@prefix elmo: <http://bp4mc2.org/elmo/def#>.
@prefix html: <http://www.w3.org/1999/xhtml/vocab#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix dcterms: <http://purl.org/dc/terms/>.
@prefix void: <http://rdfs.org/ns/void#>.
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>.
@prefix stage: <http://localhost:8080/modelleren/stage#>.
@prefix doc: <http://localhost:8080/modelleren/doc#>.

#
# De inhoud van het document
#
doc:profiel elmo:data (
"# Profile documentation"
[elmo:contains stage:DocProfile]
"## Vocabularies and namespaces"
"The following vocabularies are used:"
[elmo:contains stage:ProfielVocabularies]
[html:img "/images/w3c-dcat-profiel.png"]
"## Classes"
'''The profile contains classes that are considered core to the profile and are part of the catalog core. Other classes are only used by reference and are stable with respect to the operational data ("Master data"). And some classes are merly used as complex datatypes.'''
"### Core classes"
[elmo:contains stage:DocClass_Core]
"### Reference classes"
[elmo:contains stage:DocClass_Ref]
"### Datatype classes"
[elmo:contains stage:DocClass_Datatype]
"## Catalog"
[elmo:contains stage:DocProperties_Catalog]
"## Catalog record"
[elmo:contains stage:DocProperties_CatalogRecord]
"## Dataset"
[elmo:contains stage:DocProperties_Dataset]
"## Distribution"
[elmo:contains stage:DocProperties_Distribution]
)
.

#
# Tonen van de pagina
#
stage:ProfielDocument a elmo:Representation;
  elmo:url-pattern "/query/profiel-doc.md$";
  elmo:index "0";
  elmo:contains stage:DocProfile;
  elmo:contains stage:ProfielVocabularies;
	elmo:contains stage:DocClass_Core;
	elmo:contains stage:DocClass_Ref;
	elmo:contains stage:DocClass_Datatype;
	elmo:contains stage:DocProperties_Catalog;
  elmo:contains stage:DocProperties_CatalogRecord;
  elmo:contains stage:DocProperties_Dataset;
  elmo:contains stage:DocProperties_Distribution;
  elmo:query '''
    prefix doc: <http://localhost:8080/modelleren/doc#>
    construct {
      doc:profiel elmo:data ?data.
      ?item rdf:first ?first.
      ?item rdf:rest ?rest.
      ?first ?p ?o
    }
    where {
      graph <@STAGE@> {
        doc:profiel elmo:data ?data.
        ?data rdf:rest* ?item.
        ?item rdf:first ?first.
        ?item rdf:rest ?rest.
        OPTIONAL {?first ?p ?o}
      }
    }
  '''
.

stage:ProfielDocumentRespec a elmo:Representation;
  elmo:url-pattern "/query/profiel-doc$";
  elmo:index "0";
  elmo:appearance elmo:PlainHtmlAppearance;
	elmo:data [
		rdfs:label "Respec documentation"@en;
    rdfs:label "Respec documentatie"@nl;
		elmo:html '''
      <head>
        <meta content="text/html; charset=utf-8" http-equiv="content-type"/>

        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <title>Respec profiel documentatie</title>
          <script src='/js/respec-ldt.js' async='async' class='remove'></script>
          <script class='remove'>
            var respecConfig = {
              specStatus: "BP",
              editors: [{
                name: "PLDN",
                url: "https://your-site.com",
              }],
              processVersion: 2018,
              edDraftURI: "https://github.com/bp4mc2",
              shortName: "bp4mc2",
              license: "cc0",
              logos: []
            };
          </script>
      </head>  
        <body>
          <section id='abstract'>
            <p>              
              This a generated document for a DCAT profile.
            </p>
          </section>
          <section id='sotd'>
            <p>        
            </p>
          </section>  
         <section data-format="markdown" data-include="/modelleren/query/profiel-doc.md"></section>
        </body>
    '''
	]
.